---
const url = new URL(Astro.url);
const currentPath = url.pathname;

function getLocaleLabel(): string {
  const cookieLocale = Astro.cookies.get('locale')?.value;
  return cookieLocale || 'th';
}

const locale = getLocaleLabel();
---

<div class="fixed top-4 right-4 z-50 flex items-center gap-2">
  <a
    href={`${currentPath}?lang=th`}
    class={`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${
      locale === 'th' 
        ? 'bg-primary-600 text-white shadow-md' 
        : 'bg-white text-gray-700 hover:bg-gray-100'
    }`}
  >
    ไทย
  </a>
  <a
    href={`${currentPath}?lang=en`}
    class={`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${
      locale === 'en' 
        ? 'bg-primary-600 text-white shadow-md' 
        : 'bg-white text-gray-700 hover:bg-gray-100'
    }`}
  >
    English
  </a>
</div>
